@using SHUNetMVC.Abstraction.Model.View;
@model GridListModel

<div class="table-responsive">
    <table class="table m-0" >
        <thead>
            <tr>
                @foreach (var column in Model.ColumnDefinitions.Where(a => a.Type != ColumnType.Id))
                {
                    <th>@column.Name</th>

                }
                <th style="width:1px;padding:0"></th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Rows.Count(); i++)
            {
                var row = Model.Rows[i];

                <tr>

                    @for (int j = 0; j < row.Columns.Count(); j++)
                    {
                        var col = row.Columns[j];
                        <td>
                            <input type="hidden" name="@(Model.GridId)[@i].@col.FieldId" value="@col.Value" />
                            @col.Text
                        </td>
                    }

                    @if (!Model.IsForLookup)
                    {
                        <td class="p-1">
                            <div class="dropdown">
                                <button class="btn btn-flat btn-icon btn-rounded" type="button" data-bs-toggle="dropdown" data-bs-boundary="window" aria-expanded="false">
                                    <i class="fa-solid fa-ellipsis-vertical"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" onclick="crud.showEditChildForm(@i)"> Edit</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="crud.deleteChildRow(this)">  Delete</a></li>
                                </ul>
                            </div>
                        </td>

                    }

                </tr>
            }
        </tbody>
    </table>

    @if (Model.Rows.Any() == false)
    {
        <div class="text-center py-4" >
            <img src="~/Assets/Grid/empty-grid.jpg" style="width:180px;" />
            <div class="text-muted mt-2">No items added</div>
        </div>
    }
</div>


